{"version":3,"sources":["HomePage/images/compass.jpg","HomePage/HomePage.js","config.js","services/token-service.js","FavoritesContext.js","Nav.js","Footer.js","Place.js","SearchBox/SearchBox.js","SearchBar/SearchBar.js","Map.js","Maps.js","SearchPage.js","auth/ValidationError.js","auth/Login.js","Favorite.js","FavoritedList.js","auth/SignUp.js","services/auth-api-service.js","App.js","index.js"],"names":["module","exports","HomePage","e","this","props","history","push","className","src","require","alt","onClick","handleClick","Component","withRouter","TokenService","saveAuthToken","token","window","localStorage","setItem","config","console","log","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","makeBasicAuthToken","userName","password","btoa","FavoritesContext","React","createContext","favorites","addFavorite","deleteFavorite","handlePostAuthenticate","handleLogoutClick","clearFavorites","user_id","Nav","state","setState","authToken","undefined","context","to","renderLogoutLink","renderLoginLink","contextType","Footer","Place","id","name","rating","address","SearchBox","updateLocation","navigator","geolocation","getCurrentPosition","pos","coords","currentLocation","lat","latitude","lng","longitude","updateSearch","search","updateRadius","selectedValue","checkboxToggle","openNowCheck","favoriteToggle","fave","currentTarget","parentNode","favedetails","children","faveObject","textContent","trim","fetch","API_ENDPOINT","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","data","catch","error","handleSubmit","event","preventDefault","document","getElementById","style","display","searchUrl","replace","proxyUrl","baseUrl","radius","location","API","url","response","results","err","places","map","resultItem","key","formatted_address","onSubmit","required","type","placeholder","onChange","target","value","SearchBar","mapStyles","position","width","height","CurrentLocation","initialCenter","prevProps","prevState","google","loadMap","recenterMap","current","maps","center","LatLng","panTo","centerAroundCurrentLocation","mapRef","refs","node","ReactDOM","findDOMNode","zoom","mapConfig","Object","assign","Map","Children","c","cloneElement","mapCenter","ref","renderChildren","defaultProps","visible","MapContainer","showingInfoWindow","activeMarker","selectedPlace","onMarkerClick","marker","onClose","GoogleApiWrapper","apiKey","SearchPage","ValidationError","message","Login","username","touched","length","userError","validateUser","passwordError","validatePassword","updateUser","updatePassword","Favorite","FavoritedList","handleDelete","deleteItem","deleteObject","favorite","SignUp","handleRegistrationRedirect","newUser","addUser","alert","match","validateUsername","AuthApiService","postLogin","credentials","App","responseJson","success","Error","setTimeout","place","filter","p","user","contextValue","Provider","exact","path","component","render"],"mappings":"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","file":"static/js/main.b19faa50.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/compass.a050b103.jpg\";","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'; \nimport './HomePage.css';\n\n class HomePage extends Component {\n    handleClick(e) {\n        this.props.history.push('/signUp')\n    }\n     \n    render(){\n        return(\n            <div className='homePage'>\n                <section className='homePageSect'>\n                    <div>\n                        <img className='compass' src={require('./images/compass.jpg')} alt='bay-bridge'/>   \n                    </div>\n                    <div className='header'>\n                        <h1>Let the Exploring Begin</h1>\n                        <p>Don't know what to do? </p>\n                        <p>Search for things to do and things to eat.</p>\n                        <button onClick={e => this.handleClick(e)}>Sign Up</button>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(HomePage);","export default {\n    API_ENDPOINT: 'http://localhost:8000/api',\n    TOKEN_KEY: 'tour-client-auth-token',\n    \n  }","import config from '../config'\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token)\n    console.log(window.localStorage);\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY)\n  },\n  clearAuthToken() {\n    window.localStorage.removeItem(config.TOKEN_KEY)\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken()\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`)\n  },\n}\n\nexport default TokenService\n","import React from 'react'\n\nconst FavoritesContext = React.createContext({\n    favorites: [],\n    addFavorite: () => {},\n    deleteFavorite: () => {},\n    handlePostAuthenticate: () => {},\n    handleLogoutClick: () => {},\n    clearFavorites: () => {},\n    user_id: '',\n});\n\nexport default FavoritesContext;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Nav.css';\nimport TokenService from './services/token-service';\nimport FavoritesContext from './FavoritesContext';\n\nclass Nav extends Component {\n  static contextType = FavoritesContext;\n  constructor(props){\n    super(props);\n    this.state = {\n      authToken: undefined,\n    }\n  }\n    handleLogoutClick = () => {\n        TokenService.clearAuthToken();\n        console.log(this.state);\n        this.setState({authToken: undefined})\n        this.context.clearFavorites();\n        \n    }\n  \n    renderLogoutLink() {\n      return (\n        <li className='loggedIn'>\n          <Link\n            onClick={this.handleLogoutClick}\n            to='/login'>\n            Logout\n          </Link>\n        </li>\n      )\n    }\n  \n    renderLoginLink() {\n      return (\n        <li className='notLogged-in'>\n          <Link\n            to='/login'>\n            Log in\n          </Link>\n        </li>\n      )\n    }\n    render(){\n        return(\n            <section className='nav'>\n               <Link to='/'><h2>JustTourIt.</h2></Link>\n                <div>\n                  <ul> \n                      <li><Link to='/'>Home</Link></li>\n                      <li><Link to='/search'>Search </Link></li>\n                      <li><Link to='/favorites'>Favorites</Link></li>\n                      {TokenService.hasAuthToken()\n                          ? this.renderLogoutLink()\n                          : this.renderLoginLink()}\n                  </ul>\n                  </div>\n            </section>\n        );\n    }\n}\n\nexport default Nav; ","import React, { Component } from 'react'\n\nexport default class Footer extends Component {\n  render() {\n    return (\n      <footer className='Footer'>\n        <p>Â©Jennifer Tran, 2020. All Rights Reserved.</p>\n      </footer>\n    )\n  }\n}","import React, { Component } from 'react';\nimport './Place.css';\n\nclass Place extends Component{\n    render(){               \n        return (\n            <div className='Place' id={this.props.id}>\n                <h2 id='name'> {this.props.name + ' '} </h2>\n                <div id='ratingContainer'>\n                    <p>Rating:&nbsp; </p>\n                     <p id='rating'>{this.props.rating}</p> \n                </div>\n                    <p id='address'>{this.props.address} </p>\n                    <i className=\"fas fa-heart\"\n                        onClick={this.props.onClick}\n                    ></i>\n            </div>\n\n        )\n        }\n    }\nexport default Place;","import React, { Component } from 'react';\nimport './SearchBox.css';\nimport Place from '../Place';\nimport FavoritesContext from '../FavoritesContext';\nimport TokenService from '../services/token-service';\nimport API_ENDPOINT from '../config';\n\nclass SearchBox extends Component {\n  static contextType = FavoritesContext;\n    constructor(props){\n      super(props);\n      this.state = {\n        search: '',\n        results: [],\n        selectedValue: '5',\n        openNowCheck: false,\n        user_id: '',\n        currentLocation: {\n          lat: '',\n          lng: ''\n        },\n      }\n  }\n\n  updateLocation = () => {\n    if (navigator && navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n          const coords = pos.coords;\n          this.setState({\n            currentLocation: {\n                lat: coords.latitude,\n                lng: coords.longitude\n            }\n          });\n      });\n      }\n  }\n\n  updateSearch = (search) => {\n    this.setState({\n      search: search\n    })\n  }\n\n  updateRadius = (selectedValue) => {\n    this.setState({\n      selectedValue: selectedValue\n    })\n  }\n\n  checkboxToggle = () =>  {\n      this.setState({\n        openNowCheck: !this.state.openNowCheck\n      })\n  }\n\n \n  favoriteToggle = (e) => {\n    const fave = e.currentTarget.parentNode;\n    const favedetails = e.currentTarget.parentNode.children;\n\n    const faveObject = {\n            'id': fave.id,\n            'name': favedetails.name.textContent.trim(),\n            'rating': favedetails.rating.textContent,\n            'address': favedetails.address.textContent,\n            'user_id': this.context.user_id,\n    }\n\n    fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites/${faveObject.id}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `bearer ${TokenService.getAuthToken()}`,\n      },\n      body: JSON.stringify({faveObject}),\n    })\n    .then((res) => {\n      if(!res.ok){\n          return res.json().then(e => Promise.reject(e))\n      }\n      return res.json()\n    })\n    .then((data) => {\n        this.context.addFavorite(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });  \n\n  }\n\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let elem = document.getElementById('resultsTitle');\n    elem.style.display ='block';\n    const search = this.state.search;\n\n    const openNowCheck = this.state.openNowCheck;\n    const selectedValue = this.state.selectedValue;\n    const lat = this.state.currentLocation.lat;\n    const lng = this.state.currentLocation.lng;\n    const searchUrl= search.replace(/s/g,\"%20\");\n    const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n    const baseUrl = `https://maps.googleapis.com/maps/api/place/textsearch/json?query=${searchUrl}`;\n    const radius = `&radius=${selectedValue}`;\n    const location =`&location=${lat},${lng}`;\n    const open = `&opennow`;\n    const API = '&key=AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw';\n    let url = proxyUrl + baseUrl + radius + location + open + API;\n\n    if(!openNowCheck){\n        url =proxyUrl + baseUrl + radius + location +  API;\n    }else{\n    console.log('looks good');\n  } \n\n    return fetch(url)\n      .then(response => response.json())\n      .then(json => {\n         this.setState({\n           results: json.results\n         })\n      })\n      .catch(function(err){\n        console.log('There was an error');\n      })\n    }\n\n    render() {\n      this.updateLocation();\n      const resultList = this.state.results;\n      const places = resultList.map((resultItem) => {\n        return <ul id='place'>\n                  <li key={resultItem.id} > \n                      <Place\n                        id={resultItem.id}\n                        name={resultItem.name}\n                        address={resultItem.formatted_address}\n                        rating={resultItem.rating}\n                        onClick={ e => this.favoriteToggle(e)}\n                      />\n                  </li>\n                </ul>\n      })\n      return (\n        <div>\n           <form className='SearchBox'\n                onSubmit = {e => this.handleSubmit(e)}>\n              <input \n                  required\n                  type='text'\n                  name='search'\n                  id='search' \n                  placeholder='Search for places...'\n                  onChange={e => this.updateSearch(e.target.value)}/>\n              <input type='submit'  \n                    className='submit'\n                    />\n                <div className='filterOptions'>\n                  <div>\n                      <label className='filter'>\n                      <input \n                          type='checkbox' \n                          value='openNow' \n                          id='filterByHours' \n                          name='filterByHours'\n                          onClick={ (e) => this.checkboxToggle(e.target.value)} \n                          />\n                        Open Now\n                      </label>\n                      </div>\n                      <div>\n                      <label className='radius'>Search by Radius:</label>\n                      <select \n                          value = {this.state.selectedValue}\n                          onChange={e=> this.updateRadius(e.target.value)}\n                          name='radius' id='radius'>\n                        <option value='1'>1 miles</option>\n                        <option value='5'>5 miles</option>\n                        <option value='10'>10 miles</option>\n                        <option value='20'>20 miles</option>\n                    </select>\n                    </div>\n                 </div>\n              </form>   \n            <section id='results'>\n                <h2 id='resultsTitle' style={{display:'none'}}>Search results</h2>\n                  <ul>\n                    {places}\n                  </ul>\n            </section>\n          </div>\n      );\n    }\n  }\n  \n  export default SearchBox;","import React, { Component } from 'react';\n// import './SearchBar.css';\nimport SearchBox from '../SearchBox/SearchBox';\n\nclass SearchBar extends Component {\n    render(){\n        return(\n                <div className='searchbarControls'>\n                    <SearchBox/>   \n                </div>   \n        );\n    }\n}\nexport default SearchBar;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst mapStyles = {\n  map: {\n    position: 'absolute',\n    width: '40%',\n    height: '40%'\n  }\n};\n\nexport class CurrentLocation extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        const { lat, lng } = this.props.initialCenter;\n        this.state = {\n          currentLocation: {\n            lat: lat,\n            lng: lng\n          }\n        };\n      }  \n\ncomponentDidUpdate(prevProps, prevState) {\nif (prevProps.google !== this.props.google) {\n    this.loadMap();\n}\nif (prevState.currentLocation !== this.state.currentLocation) {\n    this.recenterMap();\n    }\n}\n\nrecenterMap() {\nconst map = this.map;\nconst current = this.state.currentLocation;\n\nconst google = this.props.google;\nconst maps = google.maps;\n\nif (map) {\n    let center = new maps.LatLng(current.lat, current.lng);\n    map.panTo(center);\n    }\n}\n\ncomponentDidMount() {\nif (this.props.centerAroundCurrentLocation) {\n    if (navigator && navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(pos => {\n        const coords = pos.coords;\n        this.setState({\n        currentLocation: {\n            lat: coords.latitude,\n            lng: coords.longitude\n        }\n        });\n    });\n    }\n}\nthis.loadMap();\n}\nloadMap() {\nif (this.props && this.props.google) {\n    // checks if google is available\n    const { google } = this.props;\n    const maps = google.maps;\n\n    const mapRef = this.refs.map;\n\n    // reference to the actual DOM element\n    const node = ReactDOM.findDOMNode(mapRef);\n\n    let { zoom } = this.props;\n    const { lat, lng } = this.state.currentLocation;\n    const center = new maps.LatLng(lat, lng);\n    const mapConfig = Object.assign(\n    {},\n    {\n        center: center,\n        zoom: zoom\n    }\n    );\n\n    // maps.Map() is constructor that instantiates the map\n    this.map = new maps.Map(node, mapConfig);\n    }\n}\nrenderChildren() {\nconst { children } = this.props;\n\nif (!children) return;\n\nreturn React.Children.map(children, c => {\n    if (!c) return;\n    return React.cloneElement(c, {\n    map: this.map,\n    google: this.props.google,\n    mapCenter: this.state.currentLocation\n     });\n    });\n}\n\nrender() {\nconst style = Object.assign({}, mapStyles.map);\nreturn (\n    <div>\n    <div style={style} ref=\"map\">\n        Loading map...\n    </div>\n    {this.renderChildren()}\n    </div>\n    );\n    } \n}\n\nexport default CurrentLocation;\n\nCurrentLocation.defaultProps = {\n  zoom: 14,\n  initialCenter: {\n    lat: -1.2884,\n    lng: 36.8233\n  },\n  centerAroundCurrentLocation: false,\n  visible: true\n};","import React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, InfoWindow, Marker } from 'google-maps-react';\nimport './Maps.css';\nimport CurrentLocation from './Map';\n\n\nexport class MapContainer extends Component {\n  state = {\n    showingInfoWindow: false,\n    activeMarker: {},\n    selectedPlace: {}\n  };\n\n  onMarkerClick = (props, marker, e) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n  onClose = props => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null\n      });\n    }\n  };\n\n  render() {\n    return (\n      <CurrentLocation\n        centerAroundCurrentLocation\n        google={this.props.google}\n      >\n        <Marker onClick={this.onMarkerClick} name={'current location'} />\n        <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}\n          onClose={this.onClose}\n        >\n          <div>\n            <h4>{this.state.selectedPlace.name}</h4>\n          </div>\n        </InfoWindow>\n      </CurrentLocation>\n    );\n  }\n}\n\nexport default GoogleApiWrapper(\n  (props) => ({\n  apiKey: ('AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw')\n}))(MapContainer)","import React, { Component } from 'react';\nimport SearchBar from './SearchBar/SearchBar';\nimport Maps from './Maps';\n\n\nclass SearchPage extends Component {\n    render(){\n        return(\n            <div className='searchPage'>\n              <SearchBar/>\n              <Maps/>\n            </div>\n        );\n    }\n}\n\nexport default SearchPage; ","import React from 'react';\n\nexport default function ValidationError(props) {\n  if(props.message) {\n    return (\n      <div className=\"error\">{props.message}</div>\n    );\n  }\n\n  return <></>\n}","import React, { Component } from 'react';\nimport './Login.css';\nimport ValidationError from './ValidationError';\nimport FavoritesContext from '../FavoritesContext';\n\n\nclass Login extends Component{\n    static contextType = FavoritesContext;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: {\n            value: '',\n            touched: false\n            },\n            password: {\n            value: '',\n            touched: false\n            },\n        }\n     }\n\n    updateUser(username) {\n        this.setState({username: {value: username, touched: true}});\n        }\n        \n    updatePassword(password) {\n    this.setState({password: {value: password, touched: true}});\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.context.handlePostAuthenticate(this.state);\n        this.props.history.push('/favorites');\n      }\n\n    validateUser() {\n        const username = this.state.username.value.trim();\n        if (username.length === 0) {\n          return \"username is required\";\n        } else if (username.length < 3) {\n          return \"Username must be at least 3 characters long\";\n        }\n      }\n    \n    validatePassword() {\n        const password = this.state.password.value.trim();\n        if (password.length === 0) {\n          return 'Password is required';\n        } else if (password.length < 6 || password.length > 72) {\n          return 'Password must be between 6 and 72 characters long';\n        }\n      }\n\n    render(){\n        const userError = this.validateUser();\n        const passwordError = this.validatePassword();\n        return(\n            <div className='loginForm'>\n                <form className='userForm' onSubmit={ e => this.handleSubmit(e)}>\n                    <h1>Login</h1>\n                    <label>\n                        Username:\n                        <input \n                            type='text' \n                            className='formInput'\n                            name='user'\n                            id='user'\n                            onChange={e => this.updateUser(e.target.value)}/>\n                             {this.state.username.touched && <ValidationError message={userError} />}\n                    </label>\n                    <label>\n                        Password:\n                        <input \n                            type='password' \n                            name='password'\n                            className='formInput'\n                            id='password'\n                            onChange={e => this.updatePassword(e.target.value)}/>\n                                 {this.state.password.touched && \n                                 <ValidationError message={passwordError} /> }\n                    </label>\n                    <input \n                        type='submit' \n                        value='submit' />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React from 'react';\nimport FavoritesContext from './FavoritesContext';\n\nclass Favorite extends React.Component {\n    static contextType = FavoritesContext;\n  \n    render(){\n        return (\n            <div className='favorite' id={this.props.id}>\n                <h2 id='name'>{this.props.name + ' '}</h2>\n                <p id='rating'>{this.props.rating}</p> \n                <p id='address'>{this.props.address} </p>\n                <button className='delete'\n                    onClick={this.props.onClick}>Delete</button>\n            </div>\n        )\n     };\n}\n\nexport default Favorite;","import React, { Component } from 'react';\nimport Favorite from './Favorite';\nimport FavoritesContext from './FavoritesContext';\n\nclass FavoritedList extends Component{\n    state =  {\n        error:  null,\n        favorites:[],\n    }\n\nstatic contextType = FavoritesContext;\n\nhandleDelete = (e) => {\n    const deleteItem= e.currentTarget.parentNode.children;\n    const deleteItemId = e.currentTarget.parentNode.id;\n\n\n    const deleteObject = {\n        'id': deleteItemId,\n        'name': deleteItem.name.textContent.trim(),\n        'rating': deleteItem.rating.textContent,\n        'address': deleteItem.address.textContent,\n        'user_id': this.context.user_id,\n}   \n\nthis.context.deleteFavorite(deleteObject);\n}\n    render(){\n        const { favorites } = this.context\n      \n        return (\n            <section className = 'favList'>\n                <h2>Favorites</h2>\n                <ul className='favoritesList'>\n                    <li key={favorites.id}>\n                        {favorites.map(favorite =>\n                            <Favorite\n                            id={favorite.id}\n                            name={favorite.name}\n                            rating ={favorite.rating}\n                            address= {favorite.address}\n                            onClick={ (e) => this.handleDelete(e)}\n                            />\n                        )}\n                    </li>\n                 </ul>\n            </section>\n        );\n    }\n}\nFavoritedList.defaultProps = {\n    favorites: []\n};\n\nexport default FavoritedList;","import React, { Component } from 'react';\nimport './SignUp.css';\nimport ValidationError from './ValidationError';\nimport { withRouter } from 'react-router-dom'; \nimport FavoritesContext from '../FavoritesContext';\n\nclass SignUp extends Component{\n    static contextType = FavoritesContext;\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: {\n            value: '',\n            touched: false\n            },\n            password: {\n            value: '',\n            touched: false\n            },\n        }\n     }\n\n    handleRegistrationRedirect = () => {\n        const { history } = this.props\n        history.push('/login')\n      }\n\n    updateUser(username) {\n        this.setState({username: {value: username, touched: true}});\n        }\n        \n    updatePassword(password) {\n    this.setState({password: {value: password, touched: true}});\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const { username, password } = this.state;\n        const newUser = { username, password }\n        this.context.addUser(newUser);\n        alert('Successful sign up');\n        this.handleRegistrationRedirect();\n\n    }\n    validateUsername() {\n        const username = this.state.username.value.trim();\n        if (username.length === 0) {\n          return \"username is required\";\n        } else if (username.length < 3) {\n          return \"Username must be at least 3 characters long\";\n        }\n      }\n    \n    validatePassword() {\n        const password = this.state.password.value.trim();\n        if (password.length === 0) {\n          return 'Password is required';\n        } else if (password.length < 6 || password.length > 72) {\n          return 'Password must be between 6 and 72 characters long';\n        } else if (!password.match(/[0-9]/)) {\n          return 'Password must contain at least one number';\n        }\n      }\n\n    render(){\n        const userError = this.validateUsername();\n        const passwordError = this.validatePassword();\n        return(\n            <div className='signUpForm'>\n                <form className='userForm' onSubmit={ e => this.handleSubmit(e)}>\n                    <h1>Sign Up</h1>\n                    <label>\n                        User:\n                        <input \n                            type='text' \n                            className='formInput'\n                            name='user'\n                            id='user'\n                            onChange={e => this.updateUser(e.target.value)}/>\n                             {this.state.username.touched && <ValidationError message={userError} />}\n                    </label>\n                    <label>\n                        Password:\n                        <input \n                            type='password' \n                            name='password'\n                            className='formInput'\n                            id='password'\n                            onChange={e => this.updatePassword(e.target.value)}/>\n                                 {this.state.password.touched && \n                                 <ValidationError message={passwordError} /> }\n                    </label>\n                    <input \n                        type='submit' \n                        value='submit' />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SignUp);","import API_ENDPOINT from '../config';\n\nconst AuthApiService = {\n  postLogin(credentials) {\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(credentials),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n}\n\nexport default AuthApiService","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport HomePage from './HomePage/HomePage';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport SearchPage from './SearchPage';\nimport Login from './auth/Login';\nimport './App.css';\nimport FavoritedList from './FavoritedList';\nimport FavoritesContext from './FavoritesContext';\nimport SignUp from './auth/SignUp';\nimport TokenService from './services/token-service';\nimport AuthApiService from './services/auth-api-service';\nimport API_ENDPOINT from './config'\n\nclass App extends Component {\n   state = {\n     favorites: [],\n     addFavorite: this.addFavorite,\n     deleteFavorite: this.deleteFavorite,\n     addUser: this.addUser,\n     error: null,\n     user_id: '',\n   }\n  \n  handlePostAuthenticate = ({ username, password, user_id }) => {\n    AuthApiService.postLogin({\n      username: username.value,\n      password: password.value,\n    })\n      .then(res => {\n        TokenService.saveAuthToken(res.authToken)\n        this.setState({\n          user_id: res.user_id\n        })\n        fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites`, {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `bearer ${TokenService.getAuthToken()}`,\n                \"user_id\": res.user_id\n              },\n            })\n              .then((response) => response.json())\n              .then((responseJson) => {\n                if (responseJson.success && responseJson.success === false) {\n                  throw new Error(\"error in getting favorites\");\n                } else {\n                  console.log(responseJson);\n                  this.setState({\n                    favorites: responseJson,\n                  });\n                }\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n      })\n      .catch(res => {\n        this.setState({ error: res.error })\n      });\n  };\n  addFavorite = favorite => {\n    this.setState({\n      favorites: [...this.state.favorites,favorite]\n    })\n    setTimeout(() => console.log(this.state)); \n  }\n\n  deleteFavorite = (place) => {\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites/${place.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `bearer ${TokenService.getAuthToken()}`,\n      },\n    })\n      .then((res) =>  {\n        console.log(place);\n        this.setState({\n            favorites: this.state.favorites.filter(p=> p.id !== place.id)\n          })\n          return(res);\n       })\n      .catch((error) => {\n        console.error(error);\n        this.setState({ error });\n      });\n  };\n\n  addUser = (user) => {\n    console.log(user);\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/signUp`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    })\n    .then( res => \n      (!res.ok)\n        ? res.json().then(e => Promise.reject(e))\n        : res.json()\n      )\n  }\n\n  clearFavorites = () => {\n    this.setState({\n      favorites: [],\n    })\n  }\n\n  render(){\n    const contextValue = {\n      favorites: this.state.favorites,\n      addFavorite: this.addFavorite,\n      deleteFavorite: this.deleteFavorite,\n      handlePostAuthenticate: this.handlePostAuthenticate,\n      clearFavorites: this.clearFavorites,\n      user_id: this.state.user_id,\n      addUser: this.addUser\n    }\n    return (\n      <div className='app'>\n      <FavoritesContext.Provider value={contextValue}>\n        <nav>\n          <Nav/>\n        </nav>\n        <main>\n          <Route exact path='/' component={HomePage} />\n          <Route path='/search' component={SearchPage} />\n          <Route path='/login' component={Login} />\n          <Route path='/signUp' component={SignUp} />\n          <Route path='/favorites' component={FavoritedList} />\n    \n        </main>\n        </FavoritesContext.Provider>\n        <footer>\n          <Footer/>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport FavoritesContext from './FavoritesContext';\n\nReactDOM.render(\n    <BrowserRouter>\n       <FavoritesContext.Provider>\n      <App />\n      </FavoritesContext.Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n  )\n  \n  "],"sourceRoot":""}