{"version":3,"sources":["HomePage/images/compass.jpg","HomePage/HomePage.js","config.js","services/token-service.js","FavoritesContext.js","Nav.js","Footer.js","Place.js","SearchBox/SearchBox.js","SearchBar/SearchBar.js","Map.js","Maps.js","SearchPage.js","auth/ValidationError.js","auth/Login.js","Favorite.js","FavoritedList.js","auth/SignUp.js","services/auth-api-service.js","App.js","index.js"],"names":["module","exports","HomePage","e","this","props","history","push","className","src","require","alt","onClick","handleClick","Component","withRouter","TokenService","saveAuthToken","token","window","localStorage","setItem","config","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","makeBasicAuthToken","userName","password","btoa","FavoritesContext","React","createContext","favorites","addFavorite","deleteFavorite","handlePostAuthenticate","handleLogoutClick","clearFavorites","user_id","Nav","setState","authToken","undefined","context","state","to","id","renderLogoutLink","renderLoginLink","contextType","Footer","Place","name","rating","address","SearchBox","updateLocation","navigator","geolocation","getCurrentPosition","pos","coords","currentLocation","lat","latitude","lng","longitude","updateSearch","search","updateRadius","selectedValue","checkboxToggle","openNowCheck","favoriteToggle","fave","currentTarget","parentNode","favedetails","children","faveObject","textContent","trim","ratingContainer","fetch","API_ENDPOINT","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","data","catch","error","console","handleSubmit","event","preventDefault","document","getElementById","style","display","searchUrl","replace","proxyUrl","baseUrl","radius","location","API","url","log","response","results","err","places","map","resultItem","key","formatted_address","onSubmit","required","type","placeholder","onChange","target","value","SearchBar","mapStyles","position","margin","width","height","CurrentLocation","initialCenter","prevProps","prevState","google","loadMap","recenterMap","current","maps","center","LatLng","panTo","centerAroundCurrentLocation","mapRef","refs","node","ReactDOM","findDOMNode","zoom","mapConfig","Object","assign","Map","Children","c","cloneElement","mapCenter","ref","renderChildren","defaultProps","visible","MapContainer","showingInfoWindow","activeMarker","selectedPlace","onMarkerClick","marker","onClose","GoogleApiWrapper","apiKey","SearchPage","ValidationError","message","Login","username","touched","length","userError","validateUser","passwordError","validatePassword","updateUser","updatePassword","Favorite","FavoritedList","handleDelete","deleteItem","deleteObject","favorite","SignUp","handleRegistrationRedirect","newUser","addUser","handleVerify","alert","match","validateUsername","AuthApiService","postLogin","credentials","App","responseJson","success","Error","setTimeout","place","filter","p","user","contextValue","Provider","exact","path","component","render"],"mappings":"wLAAAA,EAAOC,QAAU,IAA0B,qC,uSCIpCC,G,uKACH,SAAYC,GACRC,KAAKC,MAAMC,QAAQC,KAAK,a,oBAG5B,WAAS,IAAD,OACJ,OACI,yBAAKC,UAAU,YACX,6BAASA,UAAU,gBACf,6BACI,yBAAKA,UAAU,UAAUC,IAAKC,EAAQ,IAAyBC,IAAI,gBAEvE,yBAAKH,UAAU,UACX,wBAAIA,UAAU,YAAd,2BACA,wBAAIA,UAAU,SAAd,8CACA,uBAAGA,UAAU,mBAAb,wJAIA,4BAAQI,QAAS,SAAAT,GAAC,OAAI,EAAKU,YAAYV,KAAvC,kB,GAnBAW,cA2BTC,cAAWb,G,QC/BX,G,MACG,oDADH,EAEA,yBCATc,EAAe,CACnBC,cADmB,SACLC,GACZC,OAAOC,aAAaC,QAAQC,EAAkBJ,IAEhDK,aAJmB,WAKjB,OAAOJ,OAAOC,aAAaI,QAAQF,IAErCG,eAPmB,WAQjBN,OAAOC,aAAaM,WAAWJ,IAEjCK,aAVmB,WAWjB,QAASX,EAAaO,gBAExBK,mBAbmB,SAaAC,EAAUC,GAC3B,OAAOX,OAAOY,KAAP,UAAeF,EAAf,YAA2BC,MAIvBd,ICRAgB,EAVUC,IAAMC,cAAc,CACzCC,UAAW,GACXC,YAAa,aACbC,eAAgB,aAChBC,uBAAwB,aACxBC,kBAAmB,aACnBC,eAAgB,aAChBC,QAAS,KCHPC,E,kDAEJ,WAAYrC,GAAO,IAAD,8BAChB,cAAMA,IAKNkC,kBAAoB,WAChBvB,EAAaS,iBACb,EAAKkB,SAAS,CAACC,eAAWC,IAC1B,EAAKC,QAAQN,kBAPjB,EAAKO,MAAQ,CACXH,eAAWC,GAHG,E,oDAahB,WACE,OACI,wBAAIrC,UAAU,YACZ,kBAAC,IAAD,CACEI,QAASR,KAAKmC,kBACdS,GAAG,UAFL,a,6BASR,WACE,OACE,wBAAIxC,UAAU,gBACZ,kBAAC,IAAD,CACEwC,GAAG,UADL,a,oBAON,WACI,OACI,6BAASxC,UAAU,OAChB,kBAAC,IAAD,CAAMwC,GAAG,KAAI,4CACZ,6BACE,4BACI,4BAAI,kBAAC,IAAD,CAAMA,GAAG,KAAT,SACJ,4BAAI,kBAAC,IAAD,CAAMA,GAAG,WAAT,YACHhC,EAAaW,eACR,4BAAI,kBAAC,IAAD,CAAMsB,GAAG,YAAYD,GAAG,cAAxB,cACJ,KAELhC,EAAaW,eACRvB,KAAK8C,mBACL9C,KAAK+C,yB,GAnDfrC,aAAZ4B,EACGU,YAAcpB,EA0DRU,QC/DMW,E,4JACnB,WACE,OACE,4BAAQ7C,UAAU,UAChB,iF,GAJ4BM,aCmBrBwC,G,wKAjBX,WACI,OACI,yBAAK9C,UAAU,QAAQyC,GAAI7C,KAAKC,MAAM4C,IAClC,wBAAIA,GAAG,QAAP,IAAgB7C,KAAKC,MAAMkD,KAAO,IAAlC,KACA,yBAAKN,GAAG,mBACJ,2CACC,uBAAGA,GAAG,UAAU7C,KAAKC,MAAMmD,SAE5B,uBAAGP,GAAG,WAAW7C,KAAKC,MAAMoD,QAA5B,KACA,uBAAGjD,UAAU,eACTI,QAASR,KAAKC,MAAMO,e,GAXxBE,cCId4C,E,kDAEF,WAAYrD,GAAO,IAAD,8BAChB,cAAMA,IAcVsD,eAAiB,WACXC,WAAaA,UAAUC,aACzBD,UAAUC,YAAYC,oBAAmB,SAAAC,GACrC,IAAMC,EAASD,EAAIC,OACnB,EAAKrB,SAAS,CACZsB,gBAAiB,CACbC,IAAKF,EAAOG,SACZC,IAAKJ,EAAOK,iBAtBN,EA6BpBC,aAAe,SAACC,GACd,EAAK5B,SAAS,CACZ4B,OAAQA,KA/BQ,EAmCpBC,aAAe,SAACC,GACd,EAAK9B,SAAS,CACZ8B,cAAeA,KArCC,EAyCpBC,eAAiB,WACb,EAAK/B,SAAS,CACZgC,cAAe,EAAK5B,MAAM4B,gBA3CZ,EAgDpBC,eAAiB,SAACzE,GAChB,IAAM0E,EAAO1E,EAAE2E,cAAcC,WACvBC,EAAc7E,EAAE2E,cAAcC,WAAWE,SACzCC,EAAa,CACX,GAAML,EAAK5B,GACX,KAAQ+B,EAAYzB,KAAK4B,YAAYC,OACrC,OAAUJ,EAAYK,gBAAgBJ,SAASzB,OAAO2B,YACtD,QAAWH,EAAYvB,QAAQ0B,YAC/B,QAAW,EAAKrC,QAAQL,SAGhC6C,MAAM,GAAD,OAAIC,EAAJ,sBAA2CL,EAAWjC,IAAM,CAC/DuC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BzE,EAAaO,iBAE1CmE,KAAMC,KAAKC,UAAU,CAACV,iBAEvBW,MAAK,SAACC,GACL,OAAIA,EAAIC,GAGDD,EAAIE,OAFAF,EAAIE,OAAOH,MAAK,SAAA1F,GAAC,OAAI8F,QAAQC,OAAO/F,SAIhD0F,MAAK,SAACM,GACH,EAAKrD,QAAQV,YAAY+D,MAE5BC,OAAM,SAAAC,GACHC,QAAQD,MAAMA,OA7EA,EAmFpBE,aAAe,SAACC,GACdA,EAAMC,iBACKC,SAASC,eAAe,gBAC9BC,MAAMC,QAAS,QACpB,IAAMtC,EAAS,EAAKxB,MAAMwB,OAEpBI,EAAe,EAAK5B,MAAM4B,aAC1BF,EAAgB,EAAK1B,MAAM0B,cAC3BP,EAAM,EAAKnB,MAAMkB,gBAAgBC,IACjCE,EAAM,EAAKrB,MAAMkB,gBAAgBG,IACjC0C,EAAWvC,EAAOwC,QAAQ,KAAK,OAC/BC,EAAW,uCACXC,EAAO,2EAAuEH,GAC9EI,EAAM,kBAAczC,GACpB0C,EAAQ,oBAAejD,EAAf,YAAsBE,GAE9BgD,EAAM,+CACRC,EAAML,EAAWC,EAAUC,EAASC,EAF9B,WAEgDC,EAQ1D,OANIzC,EAGJ2B,QAAQgB,IAAI,cAFRD,EAAKL,EAAWC,EAAUC,EAASC,EAAYC,EAK5C9B,MAAM+B,GACVxB,MAAK,SAAA0B,GAAQ,OAAIA,EAASvB,UAC1BH,MAAK,SAAAG,GACH,EAAKrD,SAAS,CACZ6E,QAASxB,EAAKwB,aAGlBpB,OAAM,SAASqB,GACdnB,QAAQgB,IAAI,0BAlHd,EAAKvE,MAAQ,CACXwB,OAAQ,GACRiD,QAAS,GACT/C,cAAe,IACfE,cAAc,EACdlC,QAAS,GACTwB,gBAAiB,CACfC,IAAK,GACLE,IAAK,KAVO,E,0CAwHlB,WAAU,IAAD,OACPhE,KAAKuD,iBACL,IACM+D,EADatH,KAAK2C,MAAMyE,QACJG,KAAI,SAACC,GAC7B,OAAO,wBAAI3E,GAAG,SACJ,wBAAI4E,IAAKD,EAAW3E,IAChB,kBAAC,EAAD,CACEA,GAAI2E,EAAW3E,GACfM,KAAMqE,EAAWrE,KACjBE,QAASmE,EAAWE,kBACpBtE,OAAQoE,EAAWpE,OACnB5C,QAAU,SAAAT,GAAC,OAAI,EAAKyE,eAAezE,WAKrD,OACE,6BACG,0BAAMK,UAAU,YACXuH,SAAY,SAAA5H,GAAC,OAAI,EAAKoG,aAAapG,KACrC,2BACI6H,UAAQ,EACRC,KAAK,OACL1E,KAAK,SACLN,GAAG,SACHiF,YAAY,uBACZC,SAAU,SAAAhI,GAAC,OAAI,EAAKmE,aAAanE,EAAEiI,OAAOC,UAC9C,2BAAOJ,KAAK,SACNzH,UAAU,WAEd,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,cACX,2BAAOA,UAAU,UAAjB,aACA,2BACIyH,KAAK,WACLI,MAAM,UACNpF,GAAG,gBACHzC,UAAU,gBACVI,QAAU,SAACT,GAAD,OAAO,EAAKuE,eAAevE,EAAEiI,OAAOC,WAGlD,6BACA,2BAAO7H,UAAU,UAAjB,qBACA,4BACI6H,MAASjI,KAAK2C,MAAM0B,cACpB0D,SAAU,SAAAhI,GAAC,OAAG,EAAKqE,aAAarE,EAAEiI,OAAOC,QACzC9E,KAAK,SAASN,GAAG,UACnB,4BAAQoF,MAAM,KAAd,WACA,4BAAQA,MAAM,KAAd,WACA,4BAAQA,MAAM,MAAd,YACA,4BAAQA,MAAM,MAAd,gBAKZ,6BAASpF,GAAG,WACR,wBAAIA,GAAG,eAAe2D,MAAO,CAACC,QAAQ,SAAtC,kBACE,4BACGa,S,GApLG5G,aAAlB4C,EACGN,YAAcpB,EA2LN0B,QCvLF4E,E,4JARX,WACI,OACQ,yBAAK9H,UAAU,qBACX,kBAAC,EAAD,W,GAJIM,a,QCAlByH,G,MACC,CACHC,SAAU,WACVC,OAAQ,OACRC,MAAO,MACPC,OAAQ,QAICC,EAAb,kDACI,WAAYvI,GAAQ,IAAD,sBAGf,OAFA,cAAMA,IAEoBA,MAAMwI,cAAxB3E,EAAR,EAAQA,IAAKE,EAAb,EAAaA,IAHE,OAIf,EAAKrB,MAAQ,CACXkB,gBAAiB,CACfC,IAAKA,EACLE,IAAKA,IAPM,EADvB,sDAaA,SAAmB0E,EAAWC,GAC1BD,EAAUE,SAAW5I,KAAKC,MAAM2I,QAChC5I,KAAK6I,UAELF,EAAU9E,kBAAoB7D,KAAK2C,MAAMkB,iBACzC7D,KAAK8I,gBAlBT,yBAsBA,WACA,IAAMvB,EAAMvH,KAAKuH,IACXwB,EAAU/I,KAAK2C,MAAMkB,gBAGrBmF,EADShJ,KAAKC,MAAM2I,OACNI,KAEpB,GAAIzB,EAAK,CACL,IAAI0B,EAAS,IAAID,EAAKE,OAAOH,EAAQjF,IAAKiF,EAAQ/E,KAClDuD,EAAI4B,MAAMF,MA/Bd,+BAmCA,WAAqB,IAAD,OAChBjJ,KAAKC,MAAMmJ,6BACP5F,WAAaA,UAAUC,aAC3BD,UAAUC,YAAYC,oBAAmB,SAAAC,GACrC,IAAMC,EAASD,EAAIC,OACnB,EAAKrB,SAAS,CACdsB,gBAAiB,CACbC,IAAKF,EAAOG,SACZC,IAAKJ,EAAOK,gBAMxBjE,KAAK6I,YAjDL,qBAmDA,WACA,GAAI7I,KAAKC,OAASD,KAAKC,MAAM2I,OAAQ,CAEjC,IACMI,EADahJ,KAAKC,MAAhB2I,OACYI,KAEdK,EAASrJ,KAAKsJ,KAAK/B,IAGnBgC,EAAOC,IAASC,YAAYJ,GAE5BK,EAAS1J,KAAKC,MAAdyJ,KACN,EAAqB1J,KAAK2C,MAAMkB,gBAAxBC,EAAR,EAAQA,IAAKE,EAAb,EAAaA,IACPiF,EAAS,IAAID,EAAKE,OAAOpF,EAAKE,GAC9B2F,EAAYC,OAAOC,OACzB,GACA,CACIZ,OAAQA,EACRS,KAAMA,IAKV1J,KAAKuH,IAAM,IAAIyB,EAAKc,IAAIP,EAAMI,MA1ElC,4BA6EA,WAAkB,IAAD,OACT9E,EAAa7E,KAAKC,MAAlB4E,SAER,GAAKA,EAEL,OAAOhD,IAAMkI,SAASxC,IAAI1C,GAAU,SAAAmF,GAChC,GAAKA,EACL,OAAOnI,IAAMoI,aAAaD,EAAG,CAC7BzC,IAAK,EAAKA,IACVqB,OAAQ,EAAK3I,MAAM2I,OACnBsB,UAAW,EAAKvH,MAAMkB,uBAvF1B,oBA4FA,WACA,IAAM2C,EAAQoD,OAAOC,OAAO,GAAI1B,GAChC,OACI,6BACA,yBAAK3B,MAAOA,EAAO2D,IAAI,OAAvB,kBAGCnK,KAAKoK,sBAnGV,GAAqCvI,IAAMnB,WAyG5B8H,IAEfA,EAAgB6B,aAAe,CAC7BX,KAAM,GACNjB,cAAe,CACb3E,KAAM,OACNE,IAAK,SAEPoF,6BAA6B,EAC7BkB,SAAS,GCxHJ,IAAMC,EAAb,4MACE5H,MAAQ,CACN6H,mBAAmB,EACnBC,aAAc,GACdC,cAAe,IAJnB,EAOEC,cAAgB,SAAC1K,EAAO2K,EAAQ7K,GAAhB,OACd,EAAKwC,SAAS,CACZmI,cAAezK,EACfwK,aAAcG,EACdJ,mBAAmB,KAXzB,EAcEK,QAAU,SAAA5K,GACJ,EAAK0C,MAAM6H,mBACb,EAAKjI,SAAS,CACZiI,mBAAmB,EACnBC,aAAc,QAlBtB,4CAuBE,WACE,OACE,kBAAC,EAAD,CACErB,6BAA2B,EAC3BR,OAAQ5I,KAAKC,MAAM2I,QAEnB,kBAAC,SAAD,CAAQpI,QAASR,KAAK2K,cAAexH,KAAM,qBAC3C,kBAAC,aAAD,CACEyH,OAAQ5K,KAAK2C,MAAM8H,aACnBH,QAAStK,KAAK2C,MAAM6H,kBACpBK,QAAS7K,KAAK6K,SAEd,6BACE,4BAAK7K,KAAK2C,MAAM+H,cAAcvH,aApC1C,GAAkCzC,aA4CnBoK,8BACb,SAAC7K,GAAD,MAAY,CACZ8K,OAAS,6CAFID,CAGXP,GCrCWS,E,4JAVX,WACI,OACI,yBAAK5K,UAAU,cACb,kBAAC,EAAD,MACA,kBAAC,EAAD,W,GALWM,a,MCHV,SAASuK,EAAgBhL,GACtC,OAAGA,EAAMiL,QAEL,yBAAK9K,UAAU,SAASH,EAAMiL,SAI3B,qC,ICHHC,E,kDAGF,WAAYlL,GAAQ,IAAD,8BACf,cAAMA,IAqBVkG,aAAe,SAACpG,GACZA,EAAEsG,iBACF,EAAK3D,QAAQR,uBAAuB,EAAKS,OACzC,EAAK1C,MAAMC,QAAQC,KAAK,eAvBxB,EAAKwC,MAAQ,CACTyI,SAAU,CACVnD,MAAO,GACPoD,SAAS,GAET3J,SAAU,CACVuG,MAAO,GACPoD,SAAS,IATE,E,8CAcnB,SAAWD,GACPpL,KAAKuC,SAAS,CAAC6I,SAAU,CAACnD,MAAOmD,EAAUC,SAAS,O,4BAGxD,SAAe3J,GACf1B,KAAKuC,SAAS,CAACb,SAAU,CAACuG,MAAOvG,EAAU2J,SAAS,O,0BASpD,WACI,IAAMD,EAAWpL,KAAK2C,MAAMyI,SAASnD,MAAMjD,OAC3C,OAAwB,IAApBoG,EAASE,OACJ,uBACEF,EAASE,OAAS,EACpB,mDADF,I,8BAKX,WACI,IAAM5J,EAAW1B,KAAK2C,MAAMjB,SAASuG,MAAMjD,OAC3C,OAAwB,IAApBtD,EAAS4J,OACJ,uBACE5J,EAAS4J,OAAS,GAAK5J,EAAS4J,OAAS,GAC3C,yDADF,I,oBAKX,WAAS,IAAD,OACEC,EAAYvL,KAAKwL,eACjBC,EAAgBzL,KAAK0L,mBAC3B,OACI,yBAAKtL,UAAU,aACX,0BAAMA,UAAU,WAAWuH,SAAW,SAAA5H,GAAC,OAAI,EAAKoG,aAAapG,KACzD,qCACA,2CAEI,2BACI8H,KAAK,OACLzH,UAAU,YACV+C,KAAK,OACLN,GAAG,OACHkF,SAAU,SAAAhI,GAAC,OAAI,EAAK4L,WAAW5L,EAAEiI,OAAOC,UACtCjI,KAAK2C,MAAMyI,SAASC,SAAW,kBAACJ,EAAD,CAAiBC,QAASK,KAEnE,2CAEI,2BACI1D,KAAK,WACL1E,KAAK,WACL/C,UAAU,YACVyC,GAAG,WACHkF,SAAU,SAAAhI,GAAC,OAAI,EAAK6L,eAAe7L,EAAEiI,OAAOC,UACtCjI,KAAK2C,MAAMjB,SAAS2J,SACrB,kBAACJ,EAAD,CAAiBC,QAASO,KAEvC,2BACI5I,GAAG,SACHgF,KAAK,SACLI,MAAM,iB,GAhFVvH,aAAdyK,EACKnI,YAAcpB,EAsFVuJ,QC1FTU,G,kKAGF,WACI,OACI,yBAAKzL,UAAU,WAAWyC,GAAI7C,KAAKC,MAAM4C,IACrC,wBAAIA,GAAG,QAAQ7C,KAAKC,MAAMkD,KAAO,KACjC,uBAAGN,GAAG,UAAU7C,KAAKC,MAAMmD,QAC3B,uBAAGP,GAAG,WAAW7C,KAAKC,MAAMoD,QAA5B,KACA,4BAAQjD,UAAU,SACdI,QAASR,KAAKC,MAAMO,SADxB,e,GATOqB,IAAMnB,YAAvBmL,EACK7I,YAAcpB,EAeViK,QCdTC,G,kNACFnJ,MAAS,CACLsD,MAAQ,KACRlE,UAAU,I,EAKlBgK,aAAe,SAAChM,GACZ,IAAMiM,EAAYjM,EAAE2E,cAAcC,WAAWE,SAIvCoH,EAAe,CACjB,GAJiBlM,EAAE2E,cAAcC,WAAW9B,GAK5C,KAAQmJ,EAAW7I,KAAK4B,YAAYC,OACpC,OAAUgH,EAAW5I,OAAO2B,YAC5B,QAAWiH,EAAW3I,QAAQ0B,YAC9B,QAAW,EAAKrC,QAAQL,SAGhC,EAAKK,QAAQT,eAAegK,I,4CAExB,WAAS,IAAD,OACIlK,EAAc/B,KAAK0C,QAAnBX,UAER,OACI,6BAAS3B,UAAY,WACjB,yCACA,4BACI,wBACIqH,IAAK1F,EAAUc,IACdd,EAAUwF,KAAI,SAAA2E,GAAQ,OACnB,kBAAC,EAAD,CACArJ,GAAIqJ,EAASrJ,GACbM,KAAM+I,EAAS/I,KACfC,OAAS8I,EAAS9I,OAClBC,QAAU6I,EAAS7I,QACnB7C,QAAU,SAACT,GAAD,OAAO,EAAKgM,aAAahM,gB,GAtCnCW,cAAtBoL,EAMC9I,YAAcpB,EAyCrBkK,EAAczB,aAAe,CACzBtI,UAAW,IAGA+J,QClDTK,G,wDAEF,WAAYlM,GAAQ,IAAD,8BACf,cAAMA,IAaVmM,2BAA6B,WACL,EAAKnM,MAAjBC,QACAC,KAAK,WAhBE,EAiDnBgG,aAAe,SAACpG,GACdA,EAAEsG,iBACF,MAA+B,EAAK1D,MAC9B0J,EAAU,CAAEjB,SADlB,EAAQA,SACoB1J,SAD5B,EAAkBA,UAElB,EAAKgB,QAAQ4J,QAAQD,GACrB,EAAKD,8BAtDY,EAyDnBG,aAAe,SAACxM,GACd,GAAI,EAAK4C,MAAMyI,SAASnD,OAAU,EAAKtF,MAAMjB,SAASuG,MAIpD,OADAuE,MAAM,+BACC,EAAKrG,aAAapG,GAHzByM,MAAM,iCAzDN,EAAK7J,MAAQ,CACTyI,SAAU,CACVnD,MAAO,GACPoD,SAAS,GAET3J,SAAU,CACVuG,MAAO,GACPoD,SAAS,IATE,E,8CAmBnB,SAAWD,GACPpL,KAAKuC,SAAS,CAAC6I,SAAU,CAACnD,MAAOmD,EAAUC,SAAS,O,4BAGxD,SAAe3J,GACX1B,KAAKuC,SAAS,CAACb,SAAU,CAACuG,MAAOvG,EAAU2J,SAAS,O,8BAIxD,WACI,IAAMD,EAAWpL,KAAK2C,MAAMyI,SAASnD,MAAMjD,OAC3C,OAAwB,IAApBoG,EAASE,OACJ,uBACEF,EAASE,OAAS,EACpB,mDADF,I,8BAKX,WACI,IAAM5J,EAAW1B,KAAK2C,MAAMjB,SAASuG,MAAMjD,OAC3C,OAAwB,IAApBtD,EAAS4J,OACJ,uBACE5J,EAAS4J,OAAS,GAAK5J,EAAS4J,OAAS,GAC3C,oDACG5J,EAAS+K,MAAM,cAApB,EACE,8C,oBAqBb,WAAS,IAAD,OACElB,EAAYvL,KAAK0M,mBACjBjB,EAAgBzL,KAAK0L,mBAC3B,OACI,yBAAKtL,UAAU,cACX,0BAAMA,UAAU,WAAWuH,SAAW,SAAA5H,GAAC,OAAI,EAAKwM,aAAaxM,KACzD,uCACA,2CAEI,2BACI8H,KAAK,OACLzH,UAAU,YACV+C,KAAK,OACLN,GAAG,OACHkF,SAAU,SAAAhI,GAAC,OAAI,EAAK4L,WAAW5L,EAAEiI,OAAOC,UACtCjI,KAAK2C,MAAMyI,SAASC,SAAW,kBAACJ,EAAD,CAAiBC,QAASK,KAEnE,2CAEI,2BACI1D,KAAK,WACL1E,KAAK,WACL/C,UAAU,YACVyC,GAAG,WACHkF,SAAU,SAAAhI,GAAC,OAAI,EAAK6L,eAAe7L,EAAEiI,OAAOC,UACtCjI,KAAK2C,MAAMjB,SAAS2J,SACrB,kBAACJ,EAAD,CAAiBC,QAASO,KAEvC,2BACI5D,KAAK,SACLI,MAAM,iB,GAjGTvH,cAAfyL,EACKnJ,YAAcpB,EAuGVjB,kBAAWwL,GC3FXQ,EAjBQ,CACrBC,UADqB,SACXC,GACR,OAAO3H,MAAM,GAAD,OAAIC,EAAJ,eAA4C,CACtDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUqH,KAEpBpH,MAAK,SAAAC,GAAG,OACLA,EAAIC,GAEFD,EAAIE,OADJF,EAAIE,OAAOH,MAAK,SAAA1F,GAAC,OAAI8F,QAAQC,OAAO/F,WCgIjC+M,E,4MA7HZnK,MAAQ,CACNZ,UAAW,GACXC,YAAa,EAAKA,YAClBC,eAAgB,EAAKA,eACrBqK,QAAS,EAAKA,QACdrG,MAAO,KACP5D,QAAS,I,EAGZH,uBAAyB,YAAsC,IAAnCkJ,EAAkC,EAAlCA,SAAU1J,EAAwB,EAAxBA,SAAwB,EAAdW,QAC9CsK,EAAeC,UAAU,CACvBxB,SAAUA,EAASnD,MACnBvG,SAAUA,EAASuG,QAElBxC,MAAK,SAAAC,GACJ9E,EAAaC,cAAc6E,EAAIlD,WAC/B,EAAKD,SAAS,CACZF,QAASqD,EAAIrD,UAEf6C,MAAM,GAAD,OAAIC,EAAJ,cAA2C,CAC1CC,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BzE,EAAaO,gBACxC,QAAWuE,EAAIrD,WAGhBoD,MAAK,SAAC0B,GAAD,OAAcA,EAASvB,UAC5BH,MAAK,SAACsH,GACL,GAAIA,EAAaC,UAAoC,IAAzBD,EAAaC,QACvC,MAAM,IAAIC,MAAM,8BAEhB,EAAK1K,SAAS,CACZR,UAAWgL,OAIhB/G,OAAM,SAACC,GACNC,QAAQD,MAAMA,SAGvBD,OAAM,SAAAN,GACL,EAAKnD,SAAS,CAAE0D,MAAOP,EAAIO,Y,EAGjCjE,YAAc,SAAAkK,GACZ,EAAK3J,SAAS,CACZR,UAAU,GAAD,mBAAM,EAAKY,MAAMZ,WAAjB,CAA2BmK,MAEtCgB,YAAW,kBAAMhH,QAAQgB,IAAI,EAAKvE,W,EAGpCV,eAAiB,SAACkL,GAChB,OAAOjI,MAAM,GAAD,OAAIC,EAAJ,sBAA2CgI,EAAMtK,IAAM,CACjEuC,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BzE,EAAaO,mBAGzCsE,MAAK,SAACC,GAIH,OAHF,EAAKnD,SAAS,CACVR,UAAW,EAAKY,MAAMZ,UAAUqL,QAAO,SAAAC,GAAC,OAAGA,EAAExK,KAAOsK,EAAMtK,QAErD6C,KAEVM,OAAM,SAACC,GACN,EAAK1D,SAAS,CAAE0D,c,EAItBqG,QAAU,SAACgB,GACT,OAAOpI,MAAM,GAAD,OAAIC,EAAJ,WAAwC,CAClDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU8H,KAEtB7H,MAAM,SAAAC,GAAG,OACNA,EAAIC,GAEFD,EAAIE,OADJF,EAAIE,OAAOH,MAAK,SAAA1F,GAAC,OAAI8F,QAAQC,OAAO/F,U,EAK5CqC,eAAiB,WACf,EAAKG,SAAS,CACZR,UAAW,M,4CAIf,WACE,IAAMwL,EAAe,CACnBxL,UAAW/B,KAAK2C,MAAMZ,UACtBC,YAAahC,KAAKgC,YAClBC,eAAgBjC,KAAKiC,eACrBC,uBAAwBlC,KAAKkC,uBAC7BE,eAAgBpC,KAAKoC,eACrBC,QAASrC,KAAK2C,MAAMN,QACpBiK,QAAStM,KAAKsM,SAEhB,OACE,yBAAKlM,UAAU,OACf,kBAAC,EAAiBoN,SAAlB,CAA2BvF,MAAOsF,GAChC,6BACE,kBAAC,EAAD,OAEF,8BACE,kBAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAIC,UAAW7N,IACjC,kBAAC,IAAD,CAAO4N,KAAK,UAAUC,UAAW3C,IACjC,kBAAC,IAAD,CAAO0C,KAAK,SAASC,UAAWxC,IAChC,kBAAC,IAAD,CAAOuC,KAAK,UAAUC,UAAWxB,IACjC,kBAAC,IAAD,CAAOuB,KAAK,aAAaC,UAAW7B,MAItC,gCACE,kBAAC,EAAD,Y,GAvHQpL,aCRlB8I,IAASoE,OACL,kBAAC,IAAD,KACG,kBAAC,EAAiBJ,SAAlB,KACD,kBAAC,EAAD,QAGFlH,SAASC,eAAe,W","file":"static/js/main.6dcc4f40.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/compass.a050b103.jpg\";","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'; \nimport './HomePage.css';\n\n class HomePage extends Component {\n    handleClick(e) {\n        this.props.history.push('/signUp');\n    }\n     \n    render(){\n        return(\n            <div className='homePage'>\n                <section className='homePageSect'>\n                    <div>\n                        <img className='compass' src={require('./images/compass.jpg')} alt='bay-bridge'/>   \n                    </div>\n                    <div className='header'>\n                        <h1 className='appTitle'>Let the Exploring Begin</h1>\n                        <h2 className='motto'>Search for things to do and things to eat.</h2>\n                        <p className='homepageDetails'>\n                        Sign up and create an account to generate a favorited list!\n                        Search up places based on your location and click on the heart icon to add to your list.\n                      </p>\n                        <button onClick={e => this.handleClick(e)}>Sign Up</button>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(HomePage);","export default {\n    API_ENDPOINT: 'https://tranquil-reaches-30641.herokuapp.com/api',\n    TOKEN_KEY: 'tour-client-auth-token',\n    \n  }","import config from '../config';\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token);\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY);\n  },\n  clearAuthToken() {\n    window.localStorage.removeItem(config.TOKEN_KEY);\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken();\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`);\n  },\n}\n\nexport default TokenService;\n","import React from 'react';\n\nconst FavoritesContext = React.createContext({\n    favorites: [],\n    addFavorite: () => {},\n    deleteFavorite: () => {},\n    handlePostAuthenticate: () => {},\n    handleLogoutClick: () => {},\n    clearFavorites: () => {},\n    user_id: '',\n});\n\nexport default FavoritesContext;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Nav.css';\nimport TokenService from './services/token-service';\nimport FavoritesContext from './FavoritesContext';\n\nclass Nav extends Component {\n  static contextType = FavoritesContext;\n  constructor(props){\n    super(props);\n    this.state = {\n      authToken: undefined,\n    }\n  }\n    handleLogoutClick = () => {\n        TokenService.clearAuthToken();\n        this.setState({authToken: undefined});\n        this.context.clearFavorites();\n        \n    }\n  \n    renderLogoutLink() {\n      return (\n          <li className='loggedIn'>\n            <Link\n              onClick={this.handleLogoutClick}\n              to='/login'>\n              Logout\n            </Link>\n          </li> \n      )\n    }\n  \n    renderLoginLink() {\n      return (\n        <li className='notLogged-in'>\n          <Link\n            to='/login'>\n            Log in\n          </Link>\n        </li>\n      )\n    }\n    render(){\n        return(\n            <section className='nav'>\n               <Link to='/'><h2>JustTourIt.</h2></Link>\n                <div>\n                  <ul> \n                      <li><Link to='/'>Home</Link></li>\n                      <li><Link to='/search'>Search </Link></li>\n                      {TokenService.hasAuthToken()\n                          ? <li><Link id='favorites' to='/favorites'>Favorites</Link></li>\n                          : null}\n                      \n                      {TokenService.hasAuthToken()\n                          ? this.renderLogoutLink()\n                          : this.renderLoginLink()}\n                  </ul>\n                  </div>\n            </section>\n        );\n    }\n}\n\nexport default Nav; ","import React, { Component } from 'react';\n\nexport default class Footer extends Component {\n  render() {\n    return (\n      <footer className='Footer'>\n        <p>©Jennifer Tran, 2020. All Rights Reserved.</p>\n      </footer>\n    );\n  }\n}","import React, { Component } from 'react';\nimport './Place.css';\n\nclass Place extends Component{\n    render(){               \n        return (\n            <div className='Place' id={this.props.id}>\n                <h2 id='name'> {this.props.name + ' '} </h2>\n                <div id='ratingContainer'>\n                    <p>Rating:&nbsp; </p>\n                     <p id='rating'>{this.props.rating}</p> \n                </div>\n                    <p id='address'>{this.props.address} </p>\n                    <i className=\"fas fa-heart\"\n                        onClick={this.props.onClick}\n                    ></i>\n            </div>\n\n        )\n        }\n    }\nexport default Place;","import React, { Component } from 'react';\nimport './SearchBox.css';\nimport Place from '../Place';\nimport FavoritesContext from '../FavoritesContext';\nimport TokenService from '../services/token-service';\nimport API_ENDPOINT from '../config';\n\nclass SearchBox extends Component {\n  static contextType = FavoritesContext;\n    constructor(props){\n      super(props);\n      this.state = {\n        search: '',\n        results: [],\n        selectedValue: '5',\n        openNowCheck: false,\n        user_id: '',\n        currentLocation: {\n          lat: '',\n          lng: ''\n        },\n      }\n  }\n\n  updateLocation = () => {\n    if (navigator && navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n          const coords = pos.coords;\n          this.setState({\n            currentLocation: {\n                lat: coords.latitude,\n                lng: coords.longitude,\n            }\n          });\n      });\n      }\n  }\n\n  updateSearch = (search) => {\n    this.setState({\n      search: search,\n    });\n  }\n\n  updateRadius = (selectedValue) => {\n    this.setState({\n      selectedValue: selectedValue,\n    });\n  }\n\n  checkboxToggle = () =>  {\n      this.setState({\n        openNowCheck: !this.state.openNowCheck,\n      });\n  }\n\n \n  favoriteToggle = (e) => {\n    const fave = e.currentTarget.parentNode;\n    const favedetails = e.currentTarget.parentNode.children;\n    const faveObject = {\n            'id': fave.id,\n            'name': favedetails.name.textContent.trim(),\n            'rating': favedetails.ratingContainer.children.rating.textContent,\n            'address': favedetails.address.textContent,\n            'user_id': this.context.user_id,\n    }\n\n    fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites/${faveObject.id}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `bearer ${TokenService.getAuthToken()}`,\n      },\n      body: JSON.stringify({faveObject}),\n    })\n    .then((res) => {\n      if(!res.ok){\n          return res.json().then(e => Promise.reject(e));\n      }\n      return res.json();\n    })\n    .then((data) => {\n        this.context.addFavorite(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });  \n\n  }\n\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let elem = document.getElementById('resultsTitle');\n    elem.style.display ='block';\n    const search = this.state.search;\n\n    const openNowCheck = this.state.openNowCheck;\n    const selectedValue = this.state.selectedValue;\n    const lat = this.state.currentLocation.lat;\n    const lng = this.state.currentLocation.lng;\n    const searchUrl= search.replace(/s/g,\"%20\");\n    const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n    const baseUrl = `https://maps.googleapis.com/maps/api/place/textsearch/json?query=${searchUrl}`;\n    const radius = `&radius=${selectedValue}`;\n    const location =`&location=${lat},${lng}`;\n    const open = `&opennow`;\n    const API = '&key=AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw';\n    let url = proxyUrl + baseUrl + radius + location + open + API;\n\n    if(!openNowCheck){\n        url =proxyUrl + baseUrl + radius + location +  API;\n    }else{\n    console.log('looks good');\n  } \n\n    return fetch(url)\n      .then(response => response.json())\n      .then(json => {\n         this.setState({\n           results: json.results\n         });\n      })\n      .catch(function(err){\n        console.log('There was an error');\n      })\n    }\n\n    render() {\n      this.updateLocation();\n      const resultList = this.state.results;\n      const places = resultList.map((resultItem) => {\n        return <ul id='place'>\n                  <li key={resultItem.id} > \n                      <Place\n                        id={resultItem.id}\n                        name={resultItem.name}\n                        address={resultItem.formatted_address}\n                        rating={resultItem.rating}\n                        onClick={ e => this.favoriteToggle(e)}\n                      />\n                  </li>\n                </ul>\n      })\n      return (\n        <div>\n           <form className='SearchBox'\n                onSubmit = {e => this.handleSubmit(e)}>\n              <input \n                  required\n                  type='text'\n                  name='search'\n                  id='search' \n                  placeholder='Search for places...'\n                  onChange={e => this.updateSearch(e.target.value)}/>\n              <input type='submit'  \n                    className='submit'\n                    />\n                <div className='filterOptions'>\n                  <div className='filterOpen'>\n                      <label className='filter'> Open Now</label>\n                      <input \n                          type='checkbox' \n                          value='openNow' \n                          id='filterByHours' \n                          className='filterByHours'\n                          onClick={ (e) => this.checkboxToggle(e.target.value)} \n                          /> \n                      </div>\n                      <div>\n                      <label className='radius'>Search by Radius:</label>\n                      <select \n                          value = {this.state.selectedValue}\n                          onChange={e=> this.updateRadius(e.target.value)}\n                          name='radius' id='radius'>\n                        <option value='1'>1 miles</option>\n                        <option value='5'>5 miles</option>\n                        <option value='10'>10 miles</option>\n                        <option value='20'>20 miles</option>\n                    </select>\n                    </div>\n                 </div>\n              </form>   \n            <section id='results'>\n                <h2 id='resultsTitle' style={{display:'none'}}>Search results</h2>\n                  <ul>\n                    {places}\n                  </ul>\n            </section>\n          </div>\n      );\n    }\n  }\n  \n  export default SearchBox;","import React, { Component } from 'react';\nimport SearchBox from '../SearchBox/SearchBox';\n\nclass SearchBar extends Component {\n    render(){\n        return(\n                <div className='searchbarControls'>\n                    <SearchBox/>   \n                </div>   \n        );\n    }\n}\nexport default SearchBar;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst mapStyles = {\n  map: {\n    position: 'absolute',\n    margin: '70px',\n    width: '40%',\n    height: '40%',\n  }\n};\n\nexport class CurrentLocation extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        const { lat, lng } = this.props.initialCenter;\n        this.state = {\n          currentLocation: {\n            lat: lat,\n            lng: lng\n          }\n        };\n      }  \n\ncomponentDidUpdate(prevProps, prevState) {\nif (prevProps.google !== this.props.google) {\n    this.loadMap();\n}\nif (prevState.currentLocation !== this.state.currentLocation) {\n    this.recenterMap();\n    }\n}\n\nrecenterMap() {\nconst map = this.map;\nconst current = this.state.currentLocation;\n\nconst google = this.props.google;\nconst maps = google.maps;\n\nif (map) {\n    let center = new maps.LatLng(current.lat, current.lng);\n    map.panTo(center);\n    }\n}\n\ncomponentDidMount() {\nif (this.props.centerAroundCurrentLocation) {\n    if (navigator && navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(pos => {\n        const coords = pos.coords;\n        this.setState({\n        currentLocation: {\n            lat: coords.latitude,\n            lng: coords.longitude,\n        }\n        });\n    });\n    }\n}\nthis.loadMap();\n}\nloadMap() {\nif (this.props && this.props.google) {\n    // checks if google is available\n    const { google } = this.props;\n    const maps = google.maps;\n\n    const mapRef = this.refs.map;\n\n    // reference to the actual DOM element\n    const node = ReactDOM.findDOMNode(mapRef);\n\n    let { zoom } = this.props;\n    const { lat, lng } = this.state.currentLocation;\n    const center = new maps.LatLng(lat, lng);\n    const mapConfig = Object.assign(\n    {},\n    {\n        center: center,\n        zoom: zoom,\n    }\n    );\n\n    // maps.Map() is constructor that instantiates the map\n    this.map = new maps.Map(node, mapConfig);\n    }\n}\nrenderChildren() {\nconst { children } = this.props;\n\nif (!children) return;\n\nreturn React.Children.map(children, c => {\n    if (!c) return;\n    return React.cloneElement(c, {\n    map: this.map,\n    google: this.props.google,\n    mapCenter: this.state.currentLocation,\n     });\n    });\n}\n\nrender() {\nconst style = Object.assign({}, mapStyles.map);\nreturn (\n    <div>\n    <div style={style} ref='map'>\n        Loading map...\n    </div>\n    {this.renderChildren()}\n    </div>\n    );\n    } \n}\n\nexport default CurrentLocation;\n\nCurrentLocation.defaultProps = {\n  zoom: 14,\n  initialCenter: {\n    lat: -1.2884,\n    lng: 36.8233,\n  },\n  centerAroundCurrentLocation: false,\n  visible: true,\n};","import React, { Component } from 'react';\nimport { GoogleApiWrapper, Map, InfoWindow, Marker } from 'google-maps-react';\nimport './Maps.css';\nimport CurrentLocation from './Map';\n\n\nexport class MapContainer extends Component {\n  state = {\n    showingInfoWindow: false,\n    activeMarker: {},\n    selectedPlace: {},\n  };\n\n  onMarkerClick = (props, marker, e) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true,\n    });\n\n  onClose = props => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <CurrentLocation\n        centerAroundCurrentLocation\n        google={this.props.google}\n      >\n        <Marker onClick={this.onMarkerClick} name={'current location'} />\n        <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}\n          onClose={this.onClose}\n        >\n          <div>\n            <h4>{this.state.selectedPlace.name}</h4>\n          </div>\n        </InfoWindow>\n      </CurrentLocation>\n    );\n  }\n}\n\nexport default GoogleApiWrapper(\n  (props) => ({\n  apiKey: ('AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw')\n}))(MapContainer)","import React, { Component } from 'react';\nimport SearchBar from './SearchBar/SearchBar';\nimport Maps from './Maps';\n\n\nclass SearchPage extends Component {\n    render(){\n        return(\n            <div className='searchPage'>\n              <SearchBar/>\n              <Maps/>\n            </div>\n        );\n    }\n}\n\nexport default SearchPage; ","import React from 'react';\n\nexport default function ValidationError(props) {\n  if(props.message) {\n    return (\n      <div className=\"error\">{props.message}</div>\n    );\n  }\n\n  return <></>\n}","import React, { Component } from 'react';\nimport './Login.css';\nimport ValidationError from './ValidationError';\nimport FavoritesContext from '../FavoritesContext';\n\n\nclass Login extends Component{\n    static contextType = FavoritesContext;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: {\n            value: '',\n            touched: false\n            },\n            password: {\n            value: '',\n            touched: false\n            },\n        }\n     }\n\n    updateUser(username) {\n        this.setState({username: {value: username, touched: true}});\n        }\n        \n    updatePassword(password) {\n    this.setState({password: {value: password, touched: true}});\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.context.handlePostAuthenticate(this.state);\n        this.props.history.push('/favorites');\n      }\n\n    validateUser() {\n        const username = this.state.username.value.trim();\n        if (username.length === 0) {\n          return 'username is required';\n        } else if (username.length < 3) {\n          return 'Username must be at least 3 characters long';\n        }\n      }\n    \n    validatePassword() {\n        const password = this.state.password.value.trim();\n        if (password.length === 0) {\n          return 'Password is required';\n        } else if (password.length < 6 || password.length > 72) {\n          return 'Password must be between 6 and 72 characters long';\n        }\n      }\n\n    render(){\n        const userError = this.validateUser();\n        const passwordError = this.validatePassword();\n        return(\n            <div className='loginForm'>\n                <form className='userForm' onSubmit={ e => this.handleSubmit(e)}>\n                    <h1>Login</h1>\n                    <label>\n                        Username:\n                        <input \n                            type='text' \n                            className='formInput'\n                            name='user'\n                            id='user'\n                            onChange={e => this.updateUser(e.target.value)}/>\n                             {this.state.username.touched && <ValidationError message={userError} />}\n                    </label>\n                    <label>\n                        Password:\n                        <input \n                            type='password' \n                            name='password'\n                            className='formInput'\n                            id='password'\n                            onChange={e => this.updatePassword(e.target.value)}/>\n                                 {this.state.password.touched && \n                                 <ValidationError message={passwordError} /> }\n                    </label>\n                    <input \n                        id='submit'\n                        type='submit' \n                        value='submit' />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React from 'react';\nimport FavoritesContext from './FavoritesContext';\n\nclass Favorite extends React.Component {\n    static contextType = FavoritesContext;\n  \n    render(){\n        return (\n            <div className='favorite' id={this.props.id}>\n                <h2 id='name'>{this.props.name + ' '}</h2>\n                <p id='rating'>{this.props.rating}</p> \n                <p id='address'>{this.props.address} </p>\n                <button className='delete'\n                    onClick={this.props.onClick}>Delete</button>\n            </div>\n        )\n     };\n}\n\nexport default Favorite;","import React, { Component } from 'react';\nimport Favorite from './Favorite';\nimport FavoritesContext from './FavoritesContext';\nimport './FavoritedList.css';\n\nclass FavoritedList extends Component{\n    state =  {\n        error:  null,\n        favorites:[],\n    }\n\nstatic contextType = FavoritesContext;\n\nhandleDelete = (e) => {\n    const deleteItem= e.currentTarget.parentNode.children;\n    const deleteItemId = e.currentTarget.parentNode.id;\n\n\n    const deleteObject = {\n        'id': deleteItemId,\n        'name': deleteItem.name.textContent.trim(),\n        'rating': deleteItem.rating.textContent,\n        'address': deleteItem.address.textContent,\n        'user_id': this.context.user_id,\n}   \n\nthis.context.deleteFavorite(deleteObject);\n}\n    render(){\n        const { favorites } = this.context;\n      \n        return (\n            <section className = 'favList'>\n                <h2>Favorites</h2>\n                <ul>\n                    <li \n                        key={favorites.id}>\n                        {favorites.map(favorite =>\n                            <Favorite \n                            id={favorite.id}\n                            name={favorite.name}\n                            rating ={favorite.rating}\n                            address= {favorite.address}\n                            onClick={ (e) => this.handleDelete(e)}\n                            />\n                        )}\n                    </li>\n                 </ul>\n            </section>\n        );\n    }\n}\nFavoritedList.defaultProps = {\n    favorites: []\n};\n\nexport default FavoritedList;","import React, { Component } from 'react';\nimport './SignUp.css';\nimport ValidationError from './ValidationError';\nimport { withRouter } from 'react-router-dom'; \nimport FavoritesContext from '../FavoritesContext';\n\nclass SignUp extends Component{\n    static contextType = FavoritesContext;\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: {\n            value: '',\n            touched: false\n            },\n            password: {\n            value: '',\n            touched: false\n            },\n        }\n     }\n\n    handleRegistrationRedirect = () => {\n        const { history } = this.props;\n        history.push('/login');\n      }\n\n    updateUser(username) {\n        this.setState({username: {value: username, touched: true}});\n        }\n        \n    updatePassword(password) {\n        this.setState({password: {value: password, touched: true}});\n    }\n\n\n    validateUsername() {\n        const username = this.state.username.value.trim();\n        if (username.length === 0) {\n          return 'username is required';\n        } else if (username.length < 3) {\n          return 'Username must be at least 3 characters long';\n        }\n      }\n    \n    validatePassword() {\n        const password = this.state.password.value.trim();\n        if (password.length === 0) {\n          return 'Password is required';\n        } else if (password.length < 6 || password.length > 72) {\n          return 'Password must be between 6 and 72 characters long';\n        } else if (!password.match(/[0-9]/)) {\n          return 'Password must contain at least one number';\n        }\n      }\n    \n  \n    handleSubmit = (e) => {\n      e.preventDefault();\n      const { username, password } = this.state;\n      const newUser = { username, password };\n      this.context.addUser(newUser);\n      this.handleRegistrationRedirect();\n    }\n\n    handleVerify = (e) => {\n      if(!this.state.username.value || !this.state.password.value){\n        alert('Invalid username or password');\n      }else{\n        alert('Account created successfuly');\n        return this.handleSubmit(e);\n      }\n    }\n    render(){\n        const userError = this.validateUsername();\n        const passwordError = this.validatePassword();\n        return(\n            <div className='signUpForm'>\n                <form className='userForm' onSubmit={ e => this.handleVerify(e)}>\n                    <h1>Sign Up</h1>\n                    <label>\n                        Username:\n                        <input \n                            type='text' \n                            className='formInput'\n                            name='user'\n                            id='user'\n                            onChange={e => this.updateUser(e.target.value)}/>\n                             {this.state.username.touched && <ValidationError message={userError} />}\n                    </label>\n                    <label>\n                        Password:\n                        <input \n                            type='password' \n                            name='password'\n                            className='formInput'\n                            id='password'\n                            onChange={e => this.updatePassword(e.target.value)}/>\n                                 {this.state.password.touched && \n                                 <ValidationError message={passwordError} /> }\n                    </label>\n                    <input \n                        type='submit' \n                        value='submit' />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SignUp);","import API_ENDPOINT from '../config';\n\nconst AuthApiService = {\n  postLogin(credentials) {\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(credentials),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n}\n\nexport default AuthApiService;","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport HomePage from './HomePage/HomePage';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport SearchPage from './SearchPage';\nimport Login from './auth/Login';\nimport './App.css';\nimport FavoritedList from './FavoritedList';\nimport FavoritesContext from './FavoritesContext';\nimport SignUp from './auth/SignUp';\nimport TokenService from './services/token-service';\nimport AuthApiService from './services/auth-api-service';\nimport API_ENDPOINT from './config'\n\nclass App extends Component {\n   state = {\n     favorites: [],\n     addFavorite: this.addFavorite,\n     deleteFavorite: this.deleteFavorite,\n     addUser: this.addUser,\n     error: null,\n     user_id: '',\n   }\n  \n  handlePostAuthenticate = ({ username, password, user_id }) => {\n    AuthApiService.postLogin({\n      username: username.value,\n      password: password.value,\n    })\n      .then(res => {\n        TokenService.saveAuthToken(res.authToken)\n        this.setState({\n          user_id: res.user_id\n        });\n        fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites`, {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `bearer ${TokenService.getAuthToken()}`,\n                \"user_id\": res.user_id,\n              },\n            })\n              .then((response) => response.json())\n              .then((responseJson) => {\n                if (responseJson.success && responseJson.success === false) {\n                  throw new Error(\"error in getting favorites\");\n                } else {\n                  this.setState({\n                    favorites: responseJson,\n                  });\n                }\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n      })\n      .catch(res => {\n        this.setState({ error: res.error });\n      });\n  };\n  addFavorite = favorite => {\n    this.setState({\n      favorites: [...this.state.favorites,favorite]\n    });\n    setTimeout(() => console.log(this.state)); \n  }\n\n  deleteFavorite = (place) => {\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/favorites/${place.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `bearer ${TokenService.getAuthToken()}`,\n      },\n    })\n      .then((res) =>  {\n        this.setState({\n            favorites: this.state.favorites.filter(p=> p.id !== place.id)\n          });\n          return(res);\n       })\n      .catch((error) => {\n        this.setState({ error });\n      });\n  };\n\n  addUser = (user) => {\n    return fetch(`${API_ENDPOINT.API_ENDPOINT}/signUp`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    })\n    .then( res => \n      (!res.ok)\n        ? res.json().then(e => Promise.reject(e))\n        : res.json(),\n      )\n  }\n\n  clearFavorites = () => {\n    this.setState({\n      favorites: [],\n    });\n  }\n\n  render(){\n    const contextValue = {\n      favorites: this.state.favorites,\n      addFavorite: this.addFavorite,\n      deleteFavorite: this.deleteFavorite,\n      handlePostAuthenticate: this.handlePostAuthenticate,\n      clearFavorites: this.clearFavorites,\n      user_id: this.state.user_id,\n      addUser: this.addUser,\n    }\n    return (\n      <div className='app'>\n      <FavoritesContext.Provider value={contextValue}>\n        <nav>\n          <Nav/>\n        </nav>\n        <main>\n          <Route exact path='/' component={HomePage} />\n          <Route path='/search' component={SearchPage} />\n          <Route path='/login' component={Login} />\n          <Route path='/signUp' component={SignUp} />\n          <Route path='/favorites' component={FavoritedList} />\n    \n        </main>\n        </FavoritesContext.Provider>\n        <footer>\n          <Footer/>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport FavoritesContext from './FavoritesContext';\n\nReactDOM.render(\n    <BrowserRouter>\n       <FavoritesContext.Provider>\n      <App />\n      </FavoritesContext.Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n  )\n  \n  "],"sourceRoot":""}