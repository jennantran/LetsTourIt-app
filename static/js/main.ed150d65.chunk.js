(this["webpackJsonpletstourit-app"]=this["webpackJsonpletstourit-app"]||[]).push([[0],{27:function(e,t,a){e.exports=a(59)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/compass.a050b103.jpg"},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),i=(a(32),a(26)),l=a(1),s=a(2),u=a(15),m=a(4),d=a(3),p=a(11),h=(a(33),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.props.history.push("/register")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"homePage"},r.a.createElement("section",{className:"homePageSect"},r.a.createElement("div",null,r.a.createElement("img",{className:"compass",src:a(34),alt:"bay-bridge"})),r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Let the Exploring Begin"),r.a.createElement("p",null,r.a.createElement("em",null,"Don't know what to do? ")),r.a.createElement("p",null,r.a.createElement("em",null,"Search for things to do and things to eat. ")),r.a.createElement("button",{onClick:function(t){return e.handleClick(t)}},"Sign Up"))))}}]),n}(n.Component)),v=Object(p.e)(h),f=a(10),g=(a(39),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"nav"},r.a.createElement("h2",null,"JustTourIt."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/login"},"Log in ")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/search"},"Search ")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/favorites"},"Favorites"))))}}]),a}(n.Component)),E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("p",null,"\xa9Jennifer Tran, 2020. All Rights Reserved."))}}]),a}(n.Component),b=(a(40),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Place",id:this.props.id},r.a.createElement("h2",{id:"name"}," ",this.props.name," "),r.a.createElement("p",{id:"rating"},this.props.rating),r.a.createElement("p",{id:"address"},this.props.address," "),r.a.createElement("i",{className:"fas fa-heart",onClick:this.props.onClick}))}}]),a}(n.Component)),j=r.a.createContext({favorites:[],addFavorite:function(){},deleteFavorite:function(){}}),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateLocation=function(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;n.setState({currentLocation:{lat:t.latitude,lng:t.longitude}})}))},n.updateSearch=function(e){n.setState({search:e})},n.updateRadius=function(e){n.setState({selectedValue:e})},n.checkboxToggle=function(){n.setState({openNowCheck:!n.state.openNowCheck})},n.favoriteToggle=function(e){console.log("favorite");var t=e.currentTarget.parentNode,a=e.currentTarget.parentNode.children;console.log(t),console.log(a),console.log(a.name.textContent.trim());var r={id:t.id,name:a.name.textContent.trim(),rating:a.rating.textContent,address:a.address.textContent};console.log(r),n.context.addFavorite(r)},n.handleSubmit=function(e){e.preventDefault();var t=n.state.search,a=n.state.openNowCheck,r=n.state.selectedValue,o=n.state.currentLocation.lat,c=n.state.currentLocation.lng,i=t.replace(/s/g,"%20"),l="https://cors-anywhere.herokuapp.com/",s="https://maps.googleapis.com/maps/api/place/textsearch/json?query=".concat(i),u="&radius=".concat(r),m="&location=".concat(o,",").concat(c),d="&key=AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw",p=l+s+u+m+"&opennow"+d;a?console.log("looks good"):p=l+s+u+m+d,fetch(p).then((function(e){return e.json()})).then((function(e){n.setState({results:e.results})})).catch((function(e){console.log("There was an error")}))},n.state={search:"",results:[],selectedValue:"5",openNowCheck:!1,currentLocation:{lat:"",lng:""}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;this.updateLocation();var t=this.state.results;console.log(t);var a=t.map((function(t){return r.a.createElement("ul",null,r.a.createElement("li",{key:t.id},r.a.createElement(b,{id:t.id,name:t.name,address:t.formatted_address,rating:t.rating,onClick:function(t){return e.favoriteToggle(t)}})))}));return r.a.createElement("div",null,r.a.createElement("form",{className:"SearchBox",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{required:!0,type:"text",name:"search",id:"search",placeholder:"Search for places...",onChange:function(t){return e.updateSearch(t.target.value)}}),r.a.createElement("input",{type:"submit",className:"submit"}),r.a.createElement("div",{className:"filterOptions"},r.a.createElement("label",{className:"filter"},r.a.createElement("input",{type:"checkbox",value:"openNow",id:"filterByHours",name:"filterByHours",onClick:function(t){return e.favoriteToggle(t.target.value)}}),"Open Now"),r.a.createElement("label",{className:"radius"},"Search by Radius:"),r.a.createElement("select",{value:this.state.selectedValue,onChange:function(t){return e.updateRadius(t.target.value)},name:"radius",id:"radius"},r.a.createElement("option",{value:"1"},"1 miles"),r.a.createElement("option",{value:"5"},"5 miles"),r.a.createElement("option",{value:"10"},"10 miles"),r.a.createElement("option",{value:"20"},"20 miles")))),r.a.createElement("section",{id:"results"},r.a.createElement("h2",null,"Search results"),r.a.createElement("ul",null,a)))}}]),a}(n.Component);C.contextType=j;var y=C,O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchbarControls"},r.a.createElement(y,null))}}]),a}(n.Component),k=a(16),S=(a(41),{position:"absolute",width:"40%",height:"40%"}),w=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.initialCenter,o=r.lat,c=r.lng;return n.state={currentLocation:{lat:o,lng:c}},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=c.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,o=r.lat,i=r.lng,l=new e.LatLng(o,i),s=Object.assign({},{center:l,zoom:n});this.map=new e.Map(a,s)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},S);return r.a.createElement("div",null,r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),a}(r.a.Component),N=w;w.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!1,visible:!0};var A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onClose=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(N,{centerAroundCurrentLocation:!0,google:this.props.google},r.a.createElement(k.Marker,{onClick:this.onMarkerClick,name:"current location"}),r.a.createElement(k.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name))))}}]),a}(n.Component),L=Object(k.GoogleApiWrapper)((function(e){return{apiKey:"AIzaSyBoLFRF2RY7_h5pL0k4Yo96Q5XI9ivlAAw"}}))(A),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchPage"},r.a.createElement(O,null),r.a.createElement(L,null))}}]),a}(n.Component),x=(a(57),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginForm"},r.a.createElement("form",null,r.a.createElement("h1",null,"Login"),r.a.createElement("label",null,"Email:",r.a.createElement("input",{type:"text",name:"email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{type:"text",name:"password"})),r.a.createElement("input",{type:"submit",value:"submit"})))}}]),a}(n.Component)),T=(a(58),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"favorite",id:this.props.id},r.a.createElement("div",{className:"favoriteName"},this.props.name,this.props.rating),r.a.createElement("div",{className:"favoriteAddress"},this.props.address),r.a.createElement("button",{className:"delete",onClick:this.props.onClick},"Delete"))}}]),a}(r.a.Component));T.contextType=j;var I=T,M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={error:null,favorites:[]},e.handleDelete=function(t){console.log("delete");var a=t.currentTarget.parentNode;console.log(a.id);var n=a.id;e.context.deleteFavorite(n)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.context.favorites;return console.log(t),r.a.createElement("section",{className:"favList"},r.a.createElement("h2",null,"Favorites"),r.a.createElement("ul",{className:"favoritesList"},t.map((function(t){return r.a.createElement(I,{id:t.id,name:t.name,rating:t.rating,address:t.address,onClick:function(t){return e.handleDelete(t)}})}))))}}]),a}(n.Component);M.contextType=j,M.defaultProps={favorites:[]};var R=M,P={favorites:[{id:"ChIJD9j4j9R_j4AR4Ux0kcDrJq4",name:"Academy of Art University",rating:"3.9",address:"79 New Montgomery St, San Francisco, CA 94105, USA"},{id:"ChIJawCN2HyAhYARNagMvTWlbKw",name:"sweetgreen",rating:"4",address:"171 2nd St San Francisco, CA 94105"},{id:"ChIJEUwP4IeAhYARH8KUhX7fjpU",name:"The Park Central San Francisco",rating:"4.2",address:"50 3rd St, San Francisco, CA 94103, USA"},{id:"ChIJR0iloX2AhYARVm3_utxjhTI",name:"Fogo de Ch\xe3o Brazilian Steakhouse",rating:"4",address:"201 S, 3rd St Suite 100, San Francisco, CA 94103, USA"},{id:"ChIJw____96GhYARCVVwg5cT7c0",name:"Golden Gate Bridge",rating:"4.8",address:"Golden Gate Bridge, San Francisco, CA, USA,"}]},D=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={favorites:[],addFavorite:e.addFavorite,deleteFavorite:e.deleteFavorite},e.addFavorite=function(t){e.setState({favorites:[].concat(Object(i.a)(e.state.favorites),[t])}),setTimeout((function(){return console.log(e.state)}))},e.deleteFavorite=function(t){console.log(t),console.log(Object(u.a)(e)),e.setState({favorites:e.state.favorites.filter((function(e){return e.id!==t}))}),setTimeout((function(){return console.log(e.state)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState(P)}),600)}},{key:"render",value:function(){var e={favorites:this.state.favorites,addFavorite:this.addFavorite,deleteFavorite:this.deleteFavorite};return console.log(this.state),r.a.createElement("div",{className:"app"},r.a.createElement(j.Provider,{value:e},r.a.createElement("nav",null,r.a.createElement(g,null)),r.a.createElement("main",null,r.a.createElement(p.a,{exact:!0,path:"/",component:v}),r.a.createElement(p.a,{path:"/search",component:F}),r.a.createElement(p.a,{path:"/login",component:x}),r.a.createElement(p.a,{path:"/favorites",component:R}))),r.a.createElement("footer",null,r.a.createElement(E,null)))}}]),a}(n.Component);c.a.render(r.a.createElement(f.a,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ed150d65.chunk.js.map